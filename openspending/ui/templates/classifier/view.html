<html xmlns:py="http://genshi.edgewall.org/"
  xmlns:i18n="http://genshi.edgewall.org/i18n"
  xmlns:xi="http://www.w3.org/2001/XInclude" py:strip="">

  <py:def function="nav_class">nav-classifier</py:def>

  <py:def function="page_title">${c.classifier.label}</py:def>

  <div py:def="content" py:strip="">
    <div class='innercontent'>
      <h2 class="page-title">${c.classifier.label}</h2>
    </div>

    <py:if test="hasattr(c, 'viewstate')">
      ${view_panel(c.viewstate)}
    </py:if>

    <div id="vis" class="span-24">
    </div>

    <div class="span-16">
      <div class='innercontent'>
        <h3>Description</h3>
        <div class="no-desc" py:if="not c.classifier.get('description')">
          No description is available for ${c.classifier.get('label')}
        </div>
        ${h.markdown(c.classifier.get('description'))}
      </div>
    </div>
    <div class="span-8 last">
      <div class='innercontent'>
        <h3>Research</h3>
        <ul>
          <li><a href="${url(controller='classifier', action='entries', name=c.classifier.name, taxonomy=c.classifier.taxonomy)}">Search</a>: ${c.num_entries} spending entries</li>
        </ul>
      </div>
    </div>

    <div id="detail" class="span-24"></div>
    <py:if test="c.view is None">
      <xi:include href="../_browser.html" />
    </py:if>

    <div id="comments" class="comments"></div>

    <div id="access" class="span-24">
      <div class='innercontent'>
        Download a machine-readable version of <i>${c.classifier['label']}</i>:

        <py:for each="format in ('json', 'csv')">
          <a href="${url(controller='dataset',
                         action='view',
                         name=c.dataset['name'],
                         format=format)}">
            <img src="${h.static('img/icons/' + format + '.png')}" alt="${format.upper()}" />
          </a>
        </py:for>
      </div>
    </div>
  </div>

  <xi:include href="../layout.html" />
</html>

